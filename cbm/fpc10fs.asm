;∆AST–√∆”.PRG;”ENDS A FILE VIA ∆AST–√-¬ƒ CABLE;;BY ÕACIEJ 'Ÿ‘Õ' ◊ITKOWIAK;∆ASTÃOAD BY ≈XPLORER;08.11.1998;HARDWARE HANDSHAKE VERSION:;01.02.1998;BACK TO LINE-CONTROL:;27.05.1999DD00       = $02STORX      = $03STORY      = $04MB         = $FBSB         = $FCNAMELGH    = $FDLGL        = $FELGH        = $FFFALSE      = 0TRUE       = 1NAME       = $0334BUFFER     = $0E00USE2MHZ    = TRUEINLINE     = TRUEPRINT      .MACRO           LDA #<\1           LDY #>\1           JSR $AB1E           .ENDM           *= $0801           .WORD $080B           .WORD 1999           .BYTE $9E           .TEXT "2061"           .BYTE 0,0,0           LDA #0           STA $D020           STA $D021           STA $D015           LDA #$17           STA $D018START      #PRINT INITXT           #PRINT INFTXTMAIN       JSR GETNAME           LDA NAMELGH           BEQ MAIN           CMP #1           BEQ TESTDIR           BNE LOADFILETESTDIR    LDA NAME           CMP #"$"           BNE MAIN           JSR DIR           JMP MAINERROR      INC $D020           LDY #$80           LDX #0ERLP       DEX           BNE ERLP           DEY           BNE ERLP           DEC $D020           #PRINT ERRTXT           JMP MAINLOADFILE   LDA NAMELGH           LDX #<NAME           LDY #>NAME           JSR $FFBD           LDA #<BUFFER           LDX #>BUFFER           STA $AE           STX $AF           JSR OPEN           BCS ERROR           LDA $AE           SEC           SBC #<BUFFER           STA LGL           LDA $AF           SBC #>BUFFER           STA LGH           #PRINT INFTXT2MAIN2      JSR GETNAME2           LDA NAMELGH           BEQ MAIN2           JSR WAIT4START           LDA #%11000001           JSR PCSEND           LDA LGL           JSR PCSEND           LDA LGH           JSR PCSEND           LDA NAMELGH           JSR PCSEND           LDX #0NAMELP     LDA NAME,X           JSR PCSEND           INX           CPX NAMELGH           BNE NAMELP           LDA #<BUFFER           STA MB           LDA #>BUFFER           STA SB           LDA MB           CLC           ADC LGL           STA LGL           LDA SB           ADC LGH           STA LGH           LDY #0           STY $D011           .IF USE2MHZ           LDA #0           STA $D030           .ENDIF           LDA #$37           STA $01           SEIMAIN3      INC $01           LDA (MB),Y           DEC $01           JSR PCSEND           INC MB           BNE *+4           INC SB           LDA SB           CMP LGH           BNE MAIN3           LDA MB           CMP LGL           BNE MAIN3           LDA #$37           STA $01           CLI           LDA #$1B           STA $D011           .IF USE2MHZ           LDA #0           STA $D030           .ENDIF           #PRINT INFTXT3           JSR $FFE4           BEQ *-3           CMP #" "           BNE ENDPRG           JMP STARTENDPRG     RTS;---------------------------------------DIR        JSR $E544           LDA #1           LDX $BA           LDY #0           JSR $FFBADLEN       LDA #1           LDX #<TYT           LDY #>TYT           JSR $FFBD           LDA #1           JSR $FFC0           LDX #1           LDA #1           JSR $FFC6           JSR $FFCF           JSR $FFCFLICZBA     JSR $FFCF           JSR $FFCF           LDA $90           AND #%01000000           BNE KNC           JSR $FFCF           TAX           LDA $91           BPL KNC           JSR $FFCF           JSR $BDCD           LDA #" "           JSR $FFD2           LDA #1           STA $0286CZYTAJ     JSR $FFCF           BNE BOM           LDA #13           JSR $FFD2           LDA #2           STA $0286           JMP LICZBABOM        JSR $FFD2           LDA $D6           BEQ CZYTAJ           LDA $D3           CMP #24           BMI CZYTAJ           LDA #3           STA $0286           JMP CZYTAJKNC        LDA #1           JSR $FFC3           JSR $FFCC           #PRINT DENDDWAIT      JSR $FFE4           CMP #" "           BNE DWAIT           RTSTYT        .TEXT "$"DEND       .BYTE 13,158,18           .TEXT " PRESS SPACE "           .BYTE 146,0GETNAME    #PRINT ASKNAME           LDX #0PETLA      JSR $FFCF           CMP #13           BEQ JUZEM           STA NAME,X           INX           CPX #16           BNE PETLAJUZEM      STX NAMELGH           RTSGETNAME2   #PRINT ASKNAME2           LDX #0PETLA2     JSR $FFCF           CMP #13           BEQ JUZEM2           STA NAME,X           INX           CPX #80-12           BNE PETLA2JUZEM2     STX NAMELGH           RTS;---------------------------------------WAIT4START           JSR PCSINIT           LDA DD00           STA $DD00           LDA #$0F           STA $DD01           .IFEQ INLINE           JSR FLAG2           LDA $DD00           ORA #4           STA $DD00           JSR FLAG2           .ENDIF           .IFNE INLINE           LDA $DD0D           AND #$10           BEQ *-5           LDA $DD00           ORA #4           STA $DD00           LDA $DD0D           AND #$10           BEQ *-5           .ENDIF           RTS           .IFEQ INLINEFLAG2      LDA $DD0D           AND #$10           BEQ FLAG2           RTS           .ENDIFPCRINIT    LDA #$00           BEQ PCINITPCSINIT    LDA #$FFPCINIT     STA $DD03           LDY #0           STY $DD01           LDA $DD02           ORA #4           STA $DD02           LDA #$10           STA $DD0D           LDA $DD00           AND #$FB           STA DD00           RTSPCGET      STX STORX           STY STORY           LDA DD00           TAX           ORA #4           TAY           STX $DD00           .IFEQ INLINE           JSR FLAG2           LDX $DD01           STY $DD00           JSR FLAG2           .ENDIF           .IFNE INLINE           LDA $DD0D           AND #$10           BEQ *-5           LDX $DD01           STY $DD00           LDA $DD0D           AND #$10           BEQ *-5           .ENDIF           TXA           LDY STORY           LDX STORX           RTSPCSEND     STA $DD01           STX STORX           STY STORY           LDA DD00           TAX           ORA #4           TAY           STX $DD00           .IFEQ INLINE           JSR FLAG2           STY $DD00           JSR FLAG2           .ENDIF           .IFNE INLINE           LDA $DD0D           AND #$10           BEQ *-5           STY $DD00           LDA $DD0D           AND #$10           BEQ *-5           .ENDIF           LDY STORY           LDX STORX           RTS;---------------------------------------INITXT     .BYTE 147,155           .TEXT "∆AST–√ - ∆ILE ”ENDER"           .BYTE 13           .TEXT "BY ÕACIEJ 'Ÿ‘Õ' ◊ITKO"           .TEXT "WIAK"           .BYTE 13           .TEXT "∆AST ÃOAD BY ≈XPLORER"           .BYTE 13,13,0INFTXT     .BYTE 13           .TEXT "ŸOU MAY USE WILDCARDS"           .TEXT " NOW."           .BYTE 13           .TEXT "∆OR ”≈— AND ’”“ FILES"           .TEXT " PLACE "           .BYTE 5,",","S",155," "           .TEXT "OR "           .BYTE 5,",","U",155,13           .TEXT "AFTER THE FILENAME."           .BYTE 13           .TEXT "≈NTER "           .BYTE 5,"$",155," "           .TEXT "FOR DIRECTORY."           .BYTE 13,0INFTXT2    .BYTE 13,13,155           .TEXT "∆ILE SUCCESSFULLY LOA"           .TEXT "DED."           .BYTE 13           .TEXT "ŒOW ENTER THE DESTINA"           .TEXT "TION FILENAME"           .BYTE 13           .TEXT "IN Õ”-ƒœ” 8.3 FORMAT."           .BYTE 13           .TEXT "“EPLACE BACKSLASHES "           .TEXT "IN PATH BY "           .BYTE 5,"\",155,".",13,0INFTXT3    .BYTE 147,155,13,13           .TEXT "–RESS "           .BYTE 5           .TEXT " ”–¡√≈ "           .BYTE 155           .TEXT "FOR NEXT TRANSFER, OR"           .BYTE 13           .TEXT "ANYTHING ELSE TO EXIT"           .BYTE ".",0ERRTXT     .BYTE 13,13,5           .TEXT "ƒISK ERROR - PROBABLY"           .TEXT " FILE NOT FOUND."           .BYTE 13,155,0ASKNAME    .BYTE 13,13,155           .TEXT "FILE TO LOAD:"           .BYTE 5,0ASKNAME2   .BYTE 13,13,155           .TEXT "DESTINATION :"           .BYTE 5,0;---------------------------------------;∆¡”‘§Ãœ¡ƒ§ƒ ÷3.1       /29.07.96/$01¬1/;(◊)1996 BY ¡DAM'≈ÿ–Ãœ“≈“'ÀAZMIERSKI/¡«Ÿ;¿¿¿¿¿¿¿OPEN       LDA #$60           PHA           STA $B9           JSR $F3D5           LDA $BA           JSR $ED09           PLA           JSR $EDC7           JSR $EE13           BMI ZAP           JSR INIT           SEILOP12      LDY #0           JSR LOP7           BCS LOP2           INC $01      ;(!)“œÕ           STA ($AE),Y           DEC $01      ;(!)“œÕ           INC $AE           BNE LOP12           INC $AF           BNE LOP12LOP2       CLI           LDX $AE           LDY $AF           BIT $DD00           BVC OKZAP        SEC           RTS;¿¿¿¿¿¿¿¿¿¿¿LOP7       SECSKOK9      BIT $DD00           BVC SKOK10           BMI SKOK9AGAIN      LDA $D012           SBC #$32           BCC CONT           AND #7           BEQ AGAINCONT       LDA #$10           EOR $DD00           STA $DD00           NOP           NOP           AND #3           STA BANK+1           STA $DD00           LDA $DD00           LSR A           LSR A           EOR $DD00           LSR A           LSR A           EOR $DD00           LSR A           LSR A           EOR $DD00BANK       EOR #0OK         CLCSKOK10     RTS;¿¿¿¿¿¿¿¿¿¿¿            …Œ”‘¡ÃÃ –“œ√.INIT       LDA #<BUFF           LDX #>BUFF           STA LOP1+1           STX LOP1+2           LDA #4           LDX #0           STA FROM           STX FROM+1GO         JSR ON           LDX #6           LDA COM1-1,X           JSR $EDDD           DEX           BNE *-7LOP1       LDA BUFF,X           JSR $EDDD           INX           CPX #$20           BNE *-9           JSR $EDFE           LDA LOP1+1           CLC           ADC #$20           STA LOP1+1           BCC *+5           INC LOP1+2           LDA FROM+1           CLC           ADC #$20           STA FROM+1           BNE GO           JSR ON           LDY #5           LDA COM2-1,Y           JSR $EDDD           DEY           BNE *-7           JMP $EDFE;¿¿¿¿¿¿¿¿¿¿¿ON         LDA $BA      ;DEVICE NUMBER           JSR $ED0C    ;TO INSTALL           LDA #$6F           JMP $EDB9COM1       .BYTE $20FROM       .WORD $04           .TEXT "W-M"COM2       .WORD $6A04           .TEXT "E-M";¿¿¿¿¿¿¿¿¿¿¿BUFF       = *           *= $0400           .OFFS BUFF-*           LDA #3           STA $31LOOP5      JSR $0150           LDA #0           LDX $0301           STX $09           STX $81           LDY $0300           BNE LOP15           INX           TXALOP15      STA $85TAKE       LDY #2LOP17      LDA ($30),Y           STY $14           TAY           AND #$0F           TAX           TYA           LSR A           LSR A           LSR A           LSR A           TAY           LDA #2           STA $1800           ASL ALOP16      BIT $1800           BEQ LOP16           LDA TABV,X           STA $1800           ASL A           AND #$0F           STA $1800           LDA TABV,Y           STA $1800           ASL A           AND #$0F           STA $1800           LDY $14           LDA #0           STA $1800           INY           CPY $85           BNE LOP17           LDA $0300           CMP $08           BEQ LOOP5           STA $80           JMP $F418IO         LDA #8           STA $1800           RTS;¿¿¿¿¿¿¿¿¿¿¿TURBOGO    LDA #$10     ;”–≈≈ƒ†»≈¡ƒ           STA $1C07           LDX #$39LOOP1      LDA $F4D0,X           STA $014F,X           DEX           BNE LOOP1           STX $1800           LDA #$60           STA $0184           LDA $19           STA $09           LDA $18LOOP4      STA $08           LDA #$E0           STA $01           LDA $01           BMI *-2           CMP #1           BEQ DALEJ           JSR IO           LDX #0           STX $1800           INX           JMP $D599DALEJ      LDA $80           BNE LOOP4           SEI           JSR IO           JMP $EB22;¿¿¿¿¿¿¿¿¿¿¿TABV       .WORD $070F           .WORD $050D           .WORD $030B           .WORD $0109           .WORD $060E           .WORD $040C           .WORD $020A           .WORD $08;---------------------------------------